<!DOCTYPE html><html class="nprogress-busy"><head><meta charset="utf-8"><meta name="google-site-verification" content="ekuL5J7xK1IdFtP13v3KxpuGKnYS1oCT9PvZdjYm8Eg"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1,maximum-scale=1"><link rel="shortcut icon" type="image/png" href="/static/favicon.png"><link rel="apple-touch-icon" sizes="200x200" href="/static/favicon-iphone.png"><title>wxsm's space - React node starter</title><meta name="description" content="wxsms's personal blog."><meta name="keywords" content="Blog,JavaScript,HTML,CSS,Vue,Bootstrap"><link href="/static/css/app.c460d3b13d6d7ce0c63faa74a9023a8f.css" rel="stylesheet"><script type="text/javascript" src="/static/js/manifest.68263eefe155d055bfa0.js"></script><script type="text/javascript" src="/static/js/vendor.19a2875ac58b9bf76cc9.js"></script><script type="text/javascript" src="/static/js/app.6317672e36f60ab5ad32.js"></script><script async="" src="https://www.google-analytics.com/analytics.js" charset="utf8"></script><script async="" src="https://www.google-analytics.com/analytics.js" charset="utf8"></script><script type="text/javascript" charset="utf-8" async="" src="/static/js/0.24af7fe1e27d3b16bd28.js"></script><script type="text/javascript" charset="utf-8" async="" src="/static/js/4.f6eaab3002dc8add016f.js"></script><script type="text/javascript" charset="utf-8" async="" src="/static/js/0.24af7fe1e27d3b16bd28.js"></script><script type="text/javascript" charset="utf-8" async="" src="/static/js/1.3d038e42bb029d58fb1c.js"></script><script type="text/javascript" async="" id="embed-disqus" data-timestamp="1539144377016" src="//wxsm.disqus.com/embed.js"></script><link rel="prefetch" href="https://c.disquscdn.com/next/embed/styles/lounge.d797d52db05c56e7ec33542889f90bca.css"><link rel="prefetch" href="https://c.disquscdn.com/next/embed/common.bundle.18932c85febf9520158697cdc31f08ae.js"><link rel="prefetch" href="https://c.disquscdn.com/next/embed/lounge.bundle.ab905f052ba8af95ba7fd0785f080e6d.js"><link rel="prefetch" href="https://disqus.com/next/config.js"></head><body><section id="app"><section data-v-6a2c05ce="" style="display: none;"></section> <aside data-v-0044a876="" class=""><div data-v-0044a876="" class="brand"><h4 data-v-0044a876="" class="brand-link"><a data-v-0044a876="" href="/" class="router-link-active">wxsm's space</a></h4></div> <div data-v-0044a876="" class="search-container"><form data-v-e01410e2="" data-v-0044a876="" class="form-inline search-form-box"><div data-v-e01410e2="" class="form-group"><input data-v-e01410e2="" type="search" placeholder="Search..." required="required" minlength="2" class="form-control"></div></form></div> <div data-v-0044a876="" class="nav-container"><div data-v-0044a876="" class="nav-div"><ul data-v-0044a876="" role="tablist" class="nav nav-pills nav-stacked"><li data-v-0044a876="" role="presentation"><a data-v-0044a876="" href="/p" class="router-link-active btn btn-link" role="button">Archive</a></li><li data-v-0044a876="" role="presentation"><a data-v-0044a876="" href="/t" class="btn btn-link" role="button">Tags</a></li><li data-v-0044a876="" role="presentation"><a data-v-0044a876="" href="/g" class="btn btn-link" role="button">Guestbook</a></li><li data-v-0044a876="" role="presentation"><a data-v-0044a876="" href="/a" class="btn btn-link" role="button">About</a></li></ul></div> <div data-v-0044a876="" class="toc-div"><ul data-v-d065e12c="" data-v-0044a876="" class="toc-ul"><li data-v-d065e12c=""><a data-v-d065e12c="" href="#react"><b data-v-d065e12c="">React </b></a> <!----></li><li data-v-d065e12c=""><a data-v-d065e12c="" href="#node-express"><b data-v-d065e12c="">Node &amp; Express </b></a> <!----></li><li data-v-d065e12c=""><a data-v-d065e12c="" href="#mongodb"><b data-v-d065e12c="">MongoDB </b></a> <!----></li><li data-v-d065e12c=""><a data-v-d065e12c="" href="#session-auth"><b data-v-d065e12c="">Session Auth </b></a> <!----></li><li data-v-d065e12c=""><a data-v-d065e12c="" href="#antd"><b data-v-d065e12c="">AntD </b></a> <!----></li><li data-v-d065e12c=""><a data-v-d065e12c="" href="#redux"><b data-v-d065e12c="">Redux </b></a> <!----></li></ul></div></div></aside> <section data-v-79039cdb="" class="page"><div data-v-79039cdb="" class="page-body"><button data-v-01aba251="" data-v-79039cdb="" type="button" class="navbar-toggle collapsed"><span data-v-01aba251="" class="sr-only">Toggle navigation</span> <span data-v-01aba251="" class="icon-bar"></span> <span data-v-01aba251="" class="icon-bar"></span> <span data-v-01aba251="" class="icon-bar"></span></button> <div data-v-79039cdb="" class="container-fluid"><div data-v-79039cdb="" class="row"><div data-v-79039cdb="" class="col-xs-12"><section data-v-f233b600="" data-v-79039cdb=""><h1 data-v-f233b600="">React node starter</h1> <section data-v-f233b600="" id="post-content"><section data-v-19e352bd="" data-v-f233b600=""><div data-v-19e352bd="" class="meta-block"><i data-v-19e352bd="" class="glyphicon glyphicon-calendar"></i> <span data-v-19e352bd="">October 10, 2018</span></div> <div data-v-19e352bd="" class="meta-block"><a data-v-3cd447cb="" data-v-19e352bd="" href="/t#JavaScript" class="label-tag"><span data-v-3cd447cb="" class="label label-default">JavaScript</span></a><a data-v-3cd447cb="" data-v-19e352bd="" href="/t#React" class="label-tag"><span data-v-3cd447cb="" class="label label-primary">React</span></a><a data-v-3cd447cb="" data-v-19e352bd="" href="/t#NodeJs" class="label-tag"><span data-v-3cd447cb="" class="label label-success">NodeJs</span></a></div></section> <div data-v-f233b600=""><!-- ã€Œã€ -->
<p>å‡ºäºæŸç§éœ€æ±‚æ­å»ºäº†ä¸€ä¸ªéå¸¸ç®€å•çš„ã€åŸºäº React / Node / Express / MongoDB çš„ starter å·¥ç¨‹ï¼š<a href="https://github.com/wxsms/react-node-starter">wxsms/react-node-starter</a>ï¼Œæ—¨åœ¨ç®€åŒ–å°å‹æˆ–ä¸­å°å‹é¡¹ç›®å¼€å‘æµç¨‹ï¼Œå…³æ³¨å®é™…ä¸šåŠ¡å¼€å‘ã€‚</p>
<p>ç›®å‰æ‰€å®ç°çš„å†…å®¹æœ‰ï¼š</p>
<ul>
<li>å‰åç«¯å®Œå…¨åˆ†ç¦»</li>
<li>çƒ­é‡è½½</li>
<li>ç”¨æˆ·æ³¨å†Œã€ç™»å½•</li>
</ul>
<p><img src="https://user-images.githubusercontent.com/5960988/46710580-0ca53f00-cc7b-11e8-8328-f49e0a14c601.png" alt=""></p>
<p>éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ã€‚ä¸‹é¢è®°å½•æ­å»ºè¿‡ç¨‹ã€‚</p>
<!-- more -->
<h2 id="react">React <a class="header-anchor" href="#react" aria-hidden="true">ğŸ”—</a></h2>
<p>æ•´ä¸ªé¡¹ç›®å®é™…ä¸Šæ˜¯ä¸€ä¸ªä½¿ç”¨ <a href="https://github.com/facebook/create-react-app">facebook/create-react-app</a> åˆ›å»ºå‡ºæ¥çš„æ¶æ„ã€‚</p>
<pre><code>$ npm install create-react-app -g
$ create-react-app react-node-starter
</code></pre>
<p>å¦‚æ­¤å°±å®Œäº‹äº†ã€‚åˆ›å»ºå‡ºæ¥çš„é¡¹ç›®ä¼šåŒ…å« React ä»¥åŠ React Scriptsï¼ŒWebpack ç­‰é…ç½®éƒ½å·²ç»åŒ…å«åœ¨äº† React Scripts ä¸­ã€‚æ‰§è¡Œ <code>npm start</code> ä¼šæ‰“å¼€ <a href="http://localhost:3000">http://localhost:3000</a>ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—æ†¾ä¹‹å¤„æ˜¯ï¼Œè¿™é‡Œæä¾›çš„çƒ­é‡è½½ä¸æ˜¯ HMRï¼Œè€Œæ˜¯æ•´ä¸ªé¡µé¢çº§åˆ«çš„é‡æ–°åŠ è½½ã€‚</p>
<h2 id="node-express">Node &amp; Express <a class="header-anchor" href="#node-express" aria-hidden="true">ğŸ”—</a></h2>
<p>è¦åœ¨å‰ç«¯é¡¹ç›®çš„åŸºç¡€ä¸ŠåŠ å…¥ Node æœåŠ¡ç«¯ï¼Œç”±äºé¡¹ç›®çš„æç®€æ€§è´¨ï¼Œéœ€è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå¦‚ä½•åœ¨ä¸è·¨åŸŸã€ä¸åŠ å…¥é¢å¤–åä»£çš„æƒ…å†µä¸‹å®Œæˆè¿™ä¸ªä»»åŠ¡ã€‚æœ‰å¹¸çš„æ˜¯ create-react-app è´´å¿ƒåœ°åŠ å…¥äº† <a href="https://github.com/facebook/create-react-app/blob/master/packages/react-scripts/template/README.md#proxying-api-requests-in-development">Proxying API Requests in Development</a> åŠŸèƒ½ï¼Œåªéœ€è¦ç»™ <code>package.json</code> åŠ å…¥ä¸€å¯¹é”®å€¼ï¼Œå°±å¯ä»¥è¾¾æˆç›®çš„ï¼š</p>
<pre><code>"proxy": "http://localhost:3001"
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹ï¼Œå‰ç«¯ä¼šè‡ªåŠ¨å°† <code>Accept</code> Header ä¸åŒ…å« <code>text/html</code> çš„è¯·æ±‚ï¼ˆå³ Ajax è¯·æ±‚ï¼‰è½¬å‘åˆ° 3001 ç«¯å£ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦å°†æœåŠ¡ç«¯éƒ¨ç½²åˆ° 3001 ç«¯å£å°±å¥½äº†ã€‚</p>
<p>è‡³äºç”Ÿäº§ç¯å¢ƒåˆ™æ— æ­¤çƒ¦æ¼ï¼Œåªéœ€è¦å°† <code>npm run build</code> æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å½“åšé™æ€èµ„æºï¼ŒæœåŠ¡å™¨ä¾æ—§ç…§å¸¸å¯åŠ¨å³å¯ã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»º <code>server</code> æ–‡ä»¶å¤¹ï¼Œç”¨æ¥å­˜æ”¾æœåŠ¡ç«¯ä»£ç ã€‚</p>
<p><code>server/server.js</code>:</p>
<pre><code class="language-javascript"><span class="hljs-meta">#!/usr/bin/env node</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./app'</span>);
<span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);

<span class="hljs-keyword">const</span> port = <span class="hljs-number">3001</span>;
app.set(<span class="hljs-string">'port'</span>, port);

<span class="hljs-keyword">const</span> server = http.createServer(app);

server.listen(port);
</code></pre>
<p><code>server/app.js</code>:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> session = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express-session'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> logger = <span class="hljs-built_in">require</span>(<span class="hljs-string">'morgan'</span>);
<span class="hljs-keyword">const</span> cookieParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cookie-parser'</span>);
<span class="hljs-keyword">const</span> bodyParser = <span class="hljs-built_in">require</span>(<span class="hljs-string">'body-parser'</span>);

<span class="hljs-keyword">const</span> router = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./router'</span>);

<span class="hljs-keyword">const</span> app = express();

app.use(logger(<span class="hljs-string">'dev'</span>));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded({<span class="hljs-attr">extended</span>: <span class="hljs-literal">false</span>}));
app.use(cookieParser());
app.use(session({
  <span class="hljs-attr">secret</span>: <span class="hljs-string">'test'</span>,
  <span class="hljs-attr">resave</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">saveUninitialized</span>: <span class="hljs-literal">true</span>
}));
app.use(express.static(path.join(__dirname, <span class="hljs-string">'../build'</span>)));
app.use(<span class="hljs-string">'/public'</span>, express.static(path.join(__dirname, <span class="hljs-string">'../public'</span>)));
app.use(<span class="hljs-string">'/api'</span>, router);
app.get(<span class="hljs-string">'*'</span>, (req, res) =&gt; {
  res.sendFile(<span class="hljs-string">'build/index.html'</span>, {<span class="hljs-attr">root</span>: path.join(__dirname, <span class="hljs-string">'../'</span>)});
});

<span class="hljs-built_in">module</span>.exports = app;
</code></pre>
<p>å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„ Express HTTP æœåŠ¡å™¨ã€‚å½“å¤„äºå¼€å‘ç¯å¢ƒæ—¶ï¼Œ<code>build</code> ç›®å½•åªå­˜åœ¨äºå†…å­˜ä¸­ã€‚æ‰§è¡Œç”Ÿäº§æ„å»ºè„šæœ¬åï¼Œä¼šæ‰“åŒ…è‡³ç¡¬ç›˜ï¼Œå› æ­¤ä¸Šé¢çš„ä»£ç å¯ä»¥åŒæ—¶è¦†ç›–åˆ°å¼€å‘ä¸ç”Ÿäº§ç¯å¢ƒï¼Œæ— éœ€å†åšé¢å¤–é…ç½®ã€‚</p>
<p>å‡†å¤‡å®Œæˆåï¼Œå°† <code>start</code> è„šæœ¬æ›´æ–°ä¸ºï¼š</p>
<pre><code>"start": "concurrently \"react-scripts start\" \"nodemon server/server.js\""
</code></pre>
<p>å³å¯ã€‚å…¶ä¸­ï¼š</p>
<ul>
<li><a href="https://github.com/kimmobrunfeldt/concurrently">concurrently</a> æ˜¯ä¸ºäº†åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­åŒæ—¶æ‰§è¡Œå‰ç«¯ä¸æœåŠ¡ç«¯å‘½ä»¤</li>
<li><a href="https://github.com/remy/nodemon">nodemon</a> æ˜¯ä¸ºäº†å®ç°æœåŠ¡ç«¯çƒ­é‡è½½</li>
</ul>
<p>ç†Ÿæ‚‰ Node.js çš„åº”è¯¥å¯¹è¿™ä¸¤ä¸ªå·¥å…·éƒ½ä¸é™Œç”Ÿã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¯¹åŸé¡¹ç›®ä½œå‡ºæ”¹å˜çš„åœ°æ–¹æ˜¯ï¼Œå‡ºäºå°½å¯èƒ½ç®€åŒ–çš„ç›®çš„ï¼Œå°† <code>registerServiceWorker.js</code> æ–‡ä»¶åŠå…¶å¼•ç”¨ç§»é™¤äº†ï¼ŒåŒæ—¶ä½¿ç”¨ Express æ¥å¯¹ <code>public</code> æ–‡ä»¶å¤¹åšé™æ€èµ„æºè·¯ç”±ã€‚</p>
<p>å¦‚æ­¤ä¸€æ¥ï¼Œé‡æ–°æ‰§è¡Œ <code>npm start</code> ä¼šå‘ç° Express æœåŠ¡å™¨èƒ½å¤ŸæŒ‰ç…§é¢„æœŸè¿è¡Œäº†ã€‚</p>
<h2 id="mongodb">MongoDB <a class="header-anchor" href="#mongodb" aria-hidden="true">ğŸ”—</a></h2>
<p>å»ºå¥½ Express æ•´ä½“æ¡†æ¶åï¼ŒåŠ å…¥ MongoDB çš„ç›¸å…³æ”¯æŒå°±éå¸¸ç®€å•äº†ã€‚å®‰è£… <a href="https://mongoosejs.com/">mongoose</a>ï¼Œç„¶ååœ¨ <code>server</code> ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª <code>models</code> æ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾ Modelï¼Œç„¶åæ–°å»ºä¸€ä¸ª db åˆå§‹åŒ–æ–‡ä»¶ï¼š</p>
<p><code>server/mongodb.js</code></p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> mongoose = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mongoose'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

mongoose.connect(<span class="hljs-string">'mongodb://localhost:27017'</span>);

fs.readdirSync(path.join(__dirname, <span class="hljs-string">'/models'</span>)).forEach(<span class="hljs-function"><span class="hljs-params">file</span> =&gt;</span> {
  <span class="hljs-built_in">require</span>(<span class="hljs-string">'./models/'</span> + file);
});
</code></pre>
<p>æœ€åå°†æ­¤æ–‡ä»¶åœ¨ <code>app.js</code> ä¸­å¼•ç”¨å³å¯ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-built_in">require</span>(<span class="hljs-string">'./mongodb'</span>);
</code></pre>
<h2 id="session-auth">Session Auth <a class="header-anchor" href="#session-auth" aria-hidden="true">ğŸ”—</a></h2>
<p>æœ¬é¡¹ç›®é‡‡ç”¨ Session é‰´æƒï¼Œé‚£ä¹ˆåœ¨å‰åç«¯åˆ†ç¦»çš„é¡¹ç›®ä¸­ï¼Œæ— æ³•é€šè¿‡æœåŠ¡ç«¯æ¨¡æ¿æ¥åŒæ­¥èµ‹å€¼ï¼Œå› æ­¤æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯å¦‚ä½•è®©å‰ç«¯é¡¹ç›®è·å–åˆ°å½“å‰ç™»å½•çš„è§’è‰²ã€‚å‡ºäºå°½å¯èƒ½ç®€å•çš„ç›®çš„ï¼Œæœ€ç»ˆåšæ³•æ˜¯åœ¨é¡µé¢å…¥å£åˆå§‹åŒ–æ—¶å‘æœåŠ¡ç«¯å‘èµ·è¯·æ±‚è·å–å½“å‰ç™»å½•è§’è‰²ï¼Œè·å–è¿‡ç¨‹ä¸­æ˜¾ç¤º Loading ç•Œé¢ã€‚ç”¨æˆ·ä¿¡æ¯è·å–æˆåŠŸåæ‰å¼€å§‹çœŸæ­£çš„è·¯ç”±æ¸²æŸ“ï¼Œå¦‚æœå…·ä½“é¡µé¢é‰´æƒå¤±è´¥åˆ™é‡å®šå‘å›ç™»å½•é¡µé¢ã€‚</p>
<h2 id="antd">AntD <a class="header-anchor" href="#antd" aria-hidden="true">ğŸ”—</a></h2>
<p>å‰ç«¯é€‰ç”¨ <a href="https://github.com/ant-design/ant-design">Ant Design</a> ä½œä¸º UI æ¡†æ¶ï¼Œä¸ºäº†æ›´æ–¹ä¾¿åœ°ä½¿ç”¨å®ƒï¼Œå‚è€ƒå…¶æ–‡æ¡£æ•™ç¨‹ï¼Œè¿™é‡Œåšä¸€ç‚¹å°å°çš„é…ç½®ï¼Œé¦–å…ˆå®‰è£… <a href="https://github.com/timarney/react-app-rewired">react-app-rewired</a> ä¸ <a href="https://www.npmjs.com/package/babel-plugin-import">babel-plugin-import</a>ï¼š</p>
<pre><code>$ yarn add react-app-rewired babel-plugin-import
</code></pre>
<p>ä¿®æ”¹ <code>package.json</code> ä¸­çš„è„šæœ¬ï¼Œå°† <code>react-scripts</code> å…¨éƒ½æ›¿æ¢ä¸º <code>react-app-rewired</code>ï¼š</p>
<pre><code class="language-json">{
   <span class="hljs-attr">"scripts"</span>: {
     <span class="hljs-attr">"start"</span>: <span class="hljs-string">"concurrently \"react-app-rewired start\" \"nodemon server/server.js\""</span>,
     <span class="hljs-attr">"build"</span>: <span class="hljs-string">"react-app-rewired build"</span>,
     <span class="hljs-attr">"test"</span>: <span class="hljs-string">"react-app-rewired test --env=jsdom"</span>,
     <span class="hljs-attr">"eject"</span>: <span class="hljs-string">"react-app-rewired eject"</span>
   }
}
</code></pre>
<p>ç„¶ååœ¨é¡¹ç›®æ ¹ç›®å½•ä¸­åˆ›å»º <code>config-overrides.js</code> æ–‡ä»¶ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-keyword">const</span> {injectBabelPlugin} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'react-app-rewired'</span>);

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">override</span> (<span class="hljs-params">config, env</span>) </span>{
  config = injectBabelPlugin(
    [<span class="hljs-string">'import'</span>, {<span class="hljs-attr">libraryName</span>: <span class="hljs-string">'antd'</span>, <span class="hljs-attr">libraryDirectory</span>: <span class="hljs-string">'es'</span>, <span class="hljs-attr">style</span>: <span class="hljs-string">'css'</span>}],
    config,
  );
  <span class="hljs-keyword">return</span> config;
};
</code></pre>
<p>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼ŒCSS å¯ä»¥æŒ‰éœ€åŠ è½½ï¼Œå¹¶ä¸”å¼•ç”¨ AntD ç»„ä»¶æ›´æ–¹ä¾¿äº†ï¼Œå¦‚ï¼š</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> {Button} <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
</code></pre>
<h2 id="redux">Redux <a class="header-anchor" href="#redux" aria-hidden="true">ğŸ”—</a></h2>
<p>å®‰è£… Redux å…¨å®¶æ¡¶ï¼š</p>
<pre><code>$ yarn add redux redux-thunk react-redux immutable
</code></pre>
<p>ç„¶åæŒ‰ç…§ <a href="https://codesandbox.io/s/9on71rvnyo">ç¤ºä¾‹é¡¹ç›®</a> æ’å…¥åˆ°é¡¹ç›®ä¸­å»å³å¯ã€‚åŒºåˆ«æ˜¯ä¸ºäº†åœ¨ action ä¸­æ‰§è¡Œå¼‚æ­¥æ“ä½œåŠ å…¥äº†ä¸€ä¸ªä¸­é—´ä»¶ <a href="https://github.com/reduxjs/redux-thunk">redux-thunk</a>ï¼Œä»¥åŠåŸç¤ºä¾‹æ²¡æœ‰ä½¿ç”¨ <a href="https://facebook.github.io/immutable-js/">Immutable.js</a>ï¼Œä¹Ÿåœ¨æœ¬é¡¹ç›®ä¸­åŠ å…¥äº†ã€‚</p>
<p><code>src/redux/store.js</code>:</p>
<pre><code class="language-javascript"><span class="hljs-keyword">import</span> {createStore, applyMiddleware} <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>;
<span class="hljs-keyword">import</span> thunk <span class="hljs-keyword">from</span> <span class="hljs-string">'redux-thunk'</span>;
<span class="hljs-keyword">import</span> rootReducer <span class="hljs-keyword">from</span> <span class="hljs-string">'./reducers/index'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> createStore(
  rootReducer,
  applyMiddleware(thunk)
);
</code></pre>
</div> <hr data-v-f233b600=""> <nav data-v-7144c3e4="" data-v-f233b600=""><ul data-v-7144c3e4="" class="pager"><li data-v-7144c3e4="" class="previous"><a data-v-7144c3e4="" href="/p/unicode-substring" class=""><i data-v-7144c3e4="" class="glyphicon glyphicon-chevron-left"></i> Unicode substring
      </a></li> <li data-v-7144c3e4="" class="next"><!----></li></ul></nav> <hr data-v-f233b600=""> <div data-v-1a6fe007="" data-v-f233b600="" id="disqus_thread"><iframe id="dsq-app6728" name="dsq-app6728" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="https://disqus.com/embed/comments/?base=default&amp;f=wxsm&amp;t_i=%2Fp%2Freact-node-starter&amp;t_u=https%3A%2F%2Fblog.wxsm.space%2Fp%2Freact-node-starter&amp;t_d=wxsm's%20space%20-%20React%20node%20starter&amp;t_t=wxsm's%20space%20-%20React%20node%20starter&amp;s_o=default#version=91b68efe0df1ae8547330866c3e10b29" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 0px !important;"></iframe></div></section></section></div></div></div></div> <section data-v-f9dc3034="" data-v-79039cdb="" class="page-footer"><div data-v-f9dc3034="" class="container-fluid"><div data-v-f9dc3034="" class="row"><div data-v-f9dc3034="" class="col-xs-12"><p data-v-f9dc3034=""><span data-v-f9dc3034="">Links:</span> <!----> <a data-v-f9dc3034="" href="https://blog.aquariuslt.com/" target="_blank">Aquariuslt</a><span data-v-f9dc3034="">&nbsp;/</span> <a data-v-f9dc3034="" href="https://lz5z.com" target="_blank">Leo's Blog</a></p></div></div> <div data-v-f9dc3034="" class="row"><div data-v-f9dc3034="" class="col-xs-12"><a data-v-f9dc3034="" href="https://wxsm.space">Â© 2018 WXSM</a> <span data-v-f9dc3034="">/</span> <a data-v-f9dc3034="" href="/feed.xml" rel="nofollow" target="_blank">FEED</a> <span data-v-f9dc3034="">/</span> <a data-v-f9dc3034="" title="LICENSE" href="https://creativecommons.org/licenses/by/4.0/" rel="nofollow">CC BY 4.0</a></div></div></div></section></section></section>
<div id="nprogress" style="transition: none; -webkit-transition: none; opacity: 1;"><div class="bar" role="bar" style="transition: all 200ms ease; -webkit-transition: all 200ms ease; -webkit-transform: translate3d(0%, 0px, 0px);"><div class="peg"></div></div></div><iframe style="display: none;"></iframe></body></html>
